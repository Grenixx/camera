<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Tester la caméra</title>
</head>
<body>
  <button onclick="startCamera()">Démarrer la caméra</button>
  <video id="video" autoplay playsinline muted></video>
  <script>
    async function startCamera() {
      try {
        const devices = await navigator.mediaDevices.enumerateDevices();
        console.log(devices);

        const videoDevices = devices.filter(device => device.kind === 'videoinput');
        if (videoDevices.length > 0) {
          const stream = await navigator.mediaDevices.getUserMedia({ video: { deviceId: videoDevices[0].deviceId } });
          document.getElementById('video').srcObject = stream;
        } else {
          alert('Aucune caméra disponible.');
        }
      } catch (err) {
        console.error("Erreur d'accès à la caméra :", err);
        alert("Erreur d'accès à la caméra : " + err.message);
      }
    }
  </script>
</body>
</html>
